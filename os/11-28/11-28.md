# 물리 메모리 관리



## 메모리 관리의 복잡성



### 메모리 주소

- 1Byte로 나뉜 메모리의 각 영역은 메모리 주소로 구분하는데 보통 0부터 시작
- CPU는 메모리에 있는 내용을 가져오거나 작업 결과를 메모리에 저장하기 위해 메모리 주소 레지스터를 사용

<img src="image/스크린샷_2022-04-27_오전_11.19.51.png" alt="스크린샷_2022-04-27_오전_11.19.51" style="zoom:67%;" />



### 메모리 관리의 복잡성

<img src="image/스크린샷_2022-04-27_오전_11.32.31.png" alt="스크린샷_2022-04-27_오전_11.32.31" style="zoom:50%;" />

- 메모리는 폰노이만 구조의 컴퓨터에서 유일한 작업 공간이며 모든 프로그램은 메모리에 올라와야 실행 가능
- 시분할 시스템에서는 운영체제를 포함한 모든 응용 프로그램이 메모리에 올라와 실 행되기 때문에 메모리메리 관리가 복잡



### 메모리 관리의 이중성

- 프로세스 입장에서는 메모리를 독차지하려 하고, 메모리 관리자 입장에서는 되도록 관리를 효율적으로 하고 싶어함

> 프로그램을 메모리에 작업을 하는 이유는 비용적 측면의 효율성을 위해서이다
> 



### 소스코드 번역과 실행

- 컴파일러 : 소스코드를 한꺼번에 번역하여 실행 (자바, C)
- 인터프리터 : 소스코드를 한줄씩 번역하여 실행 (자바스크립트, 파이썬)



### 메모리 관리자의 역할

- 메모리 관리자(MMU, Memory Managemant Unit)
    - 메모리 관리를 담당하는 하드웨어

<img src="image/스크린샷_2022-04-27_오전_11.39.57.png" alt="스크린샷_2022-04-27_오전_11.39.57" style="zoom: 33%;" />

- 메모리 관리자 작업
    - 가져오기 : 프로세스 데이터를 메모리로 로드
    - 배치 : 가져온 데이터를 메모리에 물리적 어디 위치에 올릴지 결정
    - 재배치 : 꽉 차있는 메모리에 새로운 프로세스를 로드하기 위해 오래된 프로세스를 정리

- 메모리 관리자 정책
    - 가져오기 정책
        - 프로세스가 필요로 하는 데이터를 언제 메모리를 결정하는 정책
    - 배치 정책
        - 가져온 프로세스를 메모리의 어떤 위치에 놓을지 결정하는 정책
    - 재배치 정책
        - 가득찬 메모리 내에 있는 어떤 프로세스를 내보낼지 결정하는 정책
        

<img src="image/스크린샷_2022-05-02_오후_4.03.52.png" alt="스크린샷_2022-05-02_오후_4.03.52" style="zoom: 33%;" />

- CPU의 비트
    - 한 번에 다룰 수 있는 데이터의 최대 크기
    - 32bit CPU는 한번에 다룰 수 있는 데이터의 최대 크기가 32bit
    - 32bit CPU 내의 레지스터 크기는 전부 32bit, 산술 논리 연산장치와 대역폭도 32bit

- 32bit CPU 메모리 크기
    - 표현할 수 있는 메모리 주소의 범위가 0~ 2^32-1, 총 갯수가 2^32
    - 16진수로 나타내면 00000000 ~ FFFFFFFF 총 크기는 약 4기가바이트(2^32)

- 64bit CPU 메모리 크기
    - 0~2^64-1번지 주소 공간 사용
    - 총 크기가 약 2^64바이트 약 1677716TB로 거의 제한없는 메모리 사용가능

- 물리 주소 공간과 논리 주소 공간
    - 물리 주소 공간 : 하드웨어 입장에서 바라본 주소 공간으로 컴퓨터마다 크기가 다름
    - 논리 주소 공간 : 사용자 입장에서 바라본 주소 공간

- 32비트 64비트 차이

<img src="image/스크린샷_2022-05-02_오후_4.26.54.png" alt="스크린샷_2022-05-02_오후_4.26.54" style="zoom:50%;" />



