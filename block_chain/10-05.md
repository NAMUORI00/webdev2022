## 이더리움 블록체인

- 이더리움이 주목 받은 이유
    - 블록체인에 범용성을 부여할 수 있는 ‘스마트 컨트랙트’ 개념을 구체적으로 구현
    
- 비트코인, 이더리움 비교

|  | 비트코인 | 이더리움 |
| --- | --- | --- |
| 해시함수 | SHA256 | SHA3 |
| 해시퍼즐 | 계산집중형(ASIC화가 쉬움) | 메모리-하드방식(ASIC화가 어려움) |
| 거래기록보관 | UTXO단위 | 계정단위 |
| 스마트 컨트랙트 | 부분적 지원(튜링-비완전) | 지원(튜링-완전) |
| 평균채굴시간 | 10분 | 15초 |
| 난이도 조절 주기 | 2016개 블록 (약 2주) | 매번 (약 15초) |
| 최초 작동일 | 2009-01-03 | 2015-07-30 |
| 작동방식 | 작업 증명 방식 | 작업 증명 (지분 증명으로 변화 중) |
| 블록 수 | 약 55만 개 | 약 700만개 |
| 전체 용량 | 200기가 이상 | 1.2 테라 이상 |



### 이더리움과 계정

- 비트코인의 거래기록 보관
    - UTXO의 형태로 여러 블록에 흩어져서 보관

- 이더리움
    - 계정이라는 개념 도입
    - 계정 단위로 현재 잔액과 상태에 대한 정보가 한곳에 저장
    - 블록마다 흩어져 보관되어 있지 않음
    - 각 트랜잭션의 결과와 현재 상태는 블록에 저장돼 있지 않고 각 주소가 가리키는 곳에 별도의 데이터로 저장
    - 주소크기
        - 20바이트
        - 주소자체는 레딕스 트리 형태로 구성된 데이터 저장소를 가리킴

- 레딕스 트리



### EOA - 기본 거래 계정

---

- EOA
    - 비트코인 주소와 동일한 역할
    - 개인키를 사용해 통제
    - 이더리움 암호화폐를 주고받는 정적 거래를 위해 사용

- 이더리움의 트랜잭션
    - 하나의 EOA에서 다른 계정으로 보내는 메시지를 젖아하고 있는 **전자서명된 데이터 패키지**
        - 메시지를 받는 수령인
        - 송신자, 수신자에게 메시지를 보낸 것이 맞다는 전자 서명
        - value : 송신자가 수신자에게 보내는 금액
        - GasLimit : 송신자가 이 트랜잭션의 실행을 위해 지불할 최대 개스비용
        - GasPrice : 송신자가 개스당 지불하고자 하는 비용, 개스 한 단위는 계산한 단위를 의미

> 비트코인 처럼 수수료라는 개념이 아닌 개스라는 단위를 쓰는 이유는 나중에 언급될 스마트 컨트랙트의 계약 계정 호출할 수 있는 기능을 사용하는 과정을 위해서 사용된다
> 



### 이더리움 EVM



### 개스

| 코드 | 명령어 | 게스 비용 |
| --- | --- | --- |
| 0x00 | STOP | 0 |
| 0x01 | ADD | 3 |
| 0x02 | MUL | 5 |
| 0x03 | SUB | 3 |
| 0x04 | DW | 5 |
| 0x05 | SDIV | 5 |
| 0x06 | MOD | 5 |
| 0x07 | SMOD | 5 |